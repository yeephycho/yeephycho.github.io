<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>OpenCV Based Julia Set by C++, OpenMP, OpenCL and CUDA | yeephycho</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="When I study CUDA with the book CUDA by example, I found an interesting small program, using computer to generate Julia set image, a kind of fractal image. I have some experience on fractal geometry w">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenCV Based Julia Set by C++, OpenMP, OpenCL and CUDA">
<meta property="og:url" content="http://yeephycho.github.io/2016/07/14/Julia-Set-image-implementation-by-C-OpenCL-CUDA-and-OpenMP/index.html">
<meta property="og:site_name" content="yeephycho">
<meta property="og:description" content="When I study CUDA with the book CUDA by example, I found an interesting small program, using computer to generate Julia set image, a kind of fractal image. I have some experience on fractal geometry w">
<meta property="og:image" content="http://yeephycho.github.io/blog_img/fractal_image.jpg">
<meta property="og:image" content="http://yeephycho.github.io/blog_img/license.jpg">
<meta property="og:image" content="http://yeephycho.github.io/blog_img/APACHE.jpg">
<meta property="og:updated_time" content="2016-10-31T02:37:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OpenCV Based Julia Set by C++, OpenMP, OpenCL and CUDA">
<meta name="twitter:description" content="When I study CUDA with the book CUDA by example, I found an interesting small program, using computer to generate Julia set image, a kind of fractal image. I have some experience on fractal geometry w">
<meta name="twitter:image" content="http://yeephycho.github.io/blog_img/fractal_image.jpg">
  
    <link rel="alternative" href="/atom.xml" title="yeephycho" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://yeephycho.github.io/blog_img/zombie2.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">yeephycho</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Possibly, yeephycho is a phycho.</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
						<li>About</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/yeephycho.github.io">Home Page</a></li>
				        
							<li><a href="/archives">All article</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/yeephycho" title="github">github</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/%E4%BB%A5%E7%92%87-%E8%83%A1-82ab00102" title="linkedin">linkedin</a>
					        
								<a class="facebook" target="_blank" href="https://www.facebook.com/profile.php?id=100004383827370" title="facebook">facebook</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/AlexNet/" style="font-size: 10px;">AlexNet</a> <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Android-Native/" style="font-size: 10px;">Android Native</a> <a href="/tags/Author/" style="font-size: 10px;">Author</a> <a href="/tags/BN-Inception/" style="font-size: 10px;">BN-Inception</a> <a href="/tags/Batch-Normalization/" style="font-size: 10px;">Batch Normalization</a> <a href="/tags/Blog/" style="font-size: 10px;">Blog</a> <a href="/tags/C-C/" style="font-size: 13.33px;">C/C++</a> <a href="/tags/CUDA/" style="font-size: 10px;">CUDA</a> <a href="/tags/Convolutional-Neural-Network/" style="font-size: 20px;">Convolutional Neural Network</a> <a href="/tags/GoogLeNet/" style="font-size: 10px;">GoogLeNet</a> <a href="/tags/Histogram-equalization/" style="font-size: 10px;">Histogram equalization</a> <a href="/tags/Inception-module/" style="font-size: 10px;">Inception module</a> <a href="/tags/Inception-v3/" style="font-size: 10px;">Inception-v3</a> <a href="/tags/Inception-v4/" style="font-size: 10px;">Inception-v4</a> <a href="/tags/Input-Data/" style="font-size: 10px;">Input Data</a> <a href="/tags/Julia-set/" style="font-size: 10px;">Julia set</a> <a href="/tags/LeNet-5/" style="font-size: 10px;">LeNet-5</a> <a href="/tags/License/" style="font-size: 10px;">License</a> <a href="/tags/Local-Contrast-Normalization/" style="font-size: 10px;">Local Contrast Normalization</a> <a href="/tags/Local-Response-Normalization/" style="font-size: 10px;">Local Response Normalization</a> <a href="/tags/MLPCONV/" style="font-size: 10px;">MLPCONV</a> <a href="/tags/Machine-Learning/" style="font-size: 16.67px;">Machine Learning</a> <a href="/tags/NDK/" style="font-size: 10px;">NDK</a> <a href="/tags/Neon/" style="font-size: 10px;">Neon</a> <a href="/tags/Neural-Style/" style="font-size: 10px;">Neural Style</a> <a href="/tags/OpenBLAS/" style="font-size: 10px;">OpenBLAS</a> <a href="/tags/OpenCL/" style="font-size: 10px;">OpenCL</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/OpenMP/" style="font-size: 10px;">OpenMP</a> <a href="/tags/ResNet/" style="font-size: 10px;">ResNet</a> <a href="/tags/Shared-Library/" style="font-size: 10px;">Shared Library</a> <a href="/tags/Tensorflow/" style="font-size: 10px;">Tensorflow</a> <a href="/tags/Tensorflow-Torch7/" style="font-size: 10px;">Tensorflow/Torch7</a> <a href="/tags/Torch-Android/" style="font-size: 10px;">Torch-Android</a> <a href="/tags/Tutorial/" style="font-size: 10px;">Tutorial</a> <a href="/tags/VGGNet/" style="font-size: 10px;">VGGNet</a> <a href="/tags/ZFNet/" style="font-size: 10px;">ZFNet</a> <a href="/tags/gdb/" style="font-size: 10px;">gdb</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">Currently work for Hong Kong Applied Science and Technology Research Institue. Interested in high performance computing and machine learning.</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">yeephycho</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://yeephycho.github.io/blog_img/zombie2.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">yeephycho</h1>
			</hgroup>
			
			<p class="header-subtitle">Possibly, yeephycho is a phycho.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/yeephycho.github.io">Home Page</a></li>
		        
					<li><a href="/archives">All article</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/yeephycho" title="github">github</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/%E4%BB%A5%E7%92%87-%E8%83%A1-82ab00102" title="linkedin">linkedin</a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/profile.php?id=100004383827370" title="facebook">facebook</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-Julia-Set-image-implementation-by-C-OpenCL-CUDA-and-OpenMP" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/14/Julia-Set-image-implementation-by-C-OpenCL-CUDA-and-OpenMP/" class="article-date">
  	<time datetime="2016-07-14T11:39:17.000Z" itemprop="datePublished">2016-07-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      OpenCV Based Julia Set by C++, OpenMP, OpenCL and CUDA
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CUDA/">CUDA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Julia-set/">Julia set</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenCL/">OpenCL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenCV/">OpenCV</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenMP/">OpenMP</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>When I study <a href="http://www.nvidia.com/object/cuda_home_new.html" target="_blank" rel="external">CUDA</a> with the book <a href="https://developer.nvidia.com/cuda-example" target="_blank" rel="external">CUDA by example</a>, I found an interesting small program, using computer to generate Julia set image, a kind of <a href="https://en.wikipedia.org/wiki/Fractal" target="_blank" rel="external">fractal image</a>. I have some experience on fractal geometry when I was an undergraduate student and I still have interests on it. I tried the example and found that the CUDA example on that book has some syntax errors.<br>Based on that example, I created the <a href="https://www.khronos.org/opencl/" target="_blank" rel="external">OpenCL</a> version and <a href="http://openmp.org/wp/" target="_blank" rel="external">OpenMP</a> version.<br>Allow me to show you the <a href="https://github.com/yeephycho/OpenCV_based_JuliaSet_Implementation/raw/master/result/julia_20K.jpg" target="_blank" rel="external">result</a> of this program. <div align="center"><br><img src="http://yeephycho.github.io/blog_img/fractal_image.jpg" alt="Julia set image"><br></div><br><a id="more"></a><br>All the related source code was uploaded to my github repository <a href="https://github.com/yeephycho/OpenCV_based_JuliaSet_Implementation" target="_blank" rel="external">OpenCV_based_JuliaSet_Implementation</a>.<br>So far, I haven’t tried whether it can be directly compiled on other people’s machine. You know, it takes time to set up <a href="http://opencv.org/" target="_blank" rel="external">OpenCV</a> environment, let alone <a href="https://developer.nvidia.com/cuda-downloads" target="_blank" rel="external">CUDA</a> or <a href="https://en.wikipedia.org/wiki/OpenCL" target="_blank" rel="external">OpenCL</a>.<br>Anyway, this blog will try to provide necessary support for these programs, click <a href="https://github.com/yeephycho/OpenCV_based_JuliaSet_Implementation" target="_blank" rel="external">here</a> to view the <a href="https://github.com/yeephycho/OpenCV_based_JuliaSet_Implementation/tree/master/src" target="_blank" rel="external">source code</a>.<br>I’m considering to give a Pthread version, maybe later…</p>
<h2 id="C-OpenCV-and-algorithm"><a href="#C-OpenCV-and-algorithm" class="headerlink" title="C++, OpenCV and algorithm"></a>C++, OpenCV and algorithm</h2><p>I won’t talk too much about C++. It’s personal but I don’t like C++, if you are into it, it’s fine. I can give you a long list to convince you that C++ is a bad language and trigger the holy war again, but I’m not going to do it now.<br>Also, it’s personal, C language is the best language in the world!<br>The C++ version Julia set program defines a class to represent complex variable, and uses <a href="http://en.cppreference.com/w/cpp/language/operators" target="_blank" rel="external">C++’s operator overloading</a> character in order to realize the complex variable’s addition and multiplication operation.<br>Variable “ppercentage” and “percentage” relate to the program progress, DIM defines the size of the output image, if DIM is too large, then it will take some time for the C++ version to complete.<br><a href="http://opencv.org/" target="_blank" rel="external">OpenCV</a> is an popular open source computer vision library dominated by Intel. My program only uses it’s data structure “Mat”, which represents a frame of image. The “data” field of “Mat” is a pointer to pixel value array. “Mat” stores the data row-wise,so access the data row-wise consistently will make the most use of cache space in your computer’s memory system.<br>About the Julia set, I presume that your already have some basic knowledge of it, otherwise, I may wonder what brings you here, for those who don’t, I list the following key word if you are interested in digging into this amazing universe.<br><a href="https://en.wikipedia.org/wiki/Julia_set" target="_blank" rel="external">Julia set</a>, <a href="https://en.wikipedia.org/wiki/Mandelbrot_set" target="_blank" rel="external">Mandelbrot set</a>, <a href="https://en.wikipedia.org/wiki/Chaos_theory" target="_blank" rel="external">chaos theory</a>, <a href="https://en.wikipedia.org/wiki/Nonlinear_system" target="_blank" rel="external">nonlinear dynamics system</a><br>Algorithm of generating Julia set is quite intuitive.<br>Given the complex formula: Z  &lt;= Z^2 + C, where Z and C belongs to set of <a href="https://en.wikipedia.org/wiki/Complex_number" target="_blank" rel="external">complex number</a>.<br>We set C as a fix number, in the program, for example C = (-0.8, 0.156).<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">complex</span> <span class="title">c</span><span class="params">(<span class="number">-0.8</span>, <span class="number">0.156</span>)</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>Then in a image, we move the origin of coordinate to the center of the image, and limit the range of the computation space from -1.5 to 1.5. For example, if we have a image of size 100 x 100, the first pixel (top-left corner of the image) corresponding to the point (-1.5, 1.5) in the computation space, and the last pixel (bottom-right corner of the image) corresponding to the point (1.5, -1.5).<br>We assume the whole image is a set of points in the complex plane. Let the pixel position represent a complex variable. For example, Re-ranged position (-1.5 ,1,5) represent the complex number Z, say Z = -1.5 + 1.5i.<br>Now, we know where Z and C comes from, we can start the iteration.<br>At the first point, Z = (-1.5, 1.5), C = (-0.8, 0.156), feed the number to equation Z &lt;= Z^2 + C. I assume that you know the rule of complex variable addition and multiplication. After the first time’s iteration, we get the new Z = (-0.8, -2.344), and the <a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank" rel="external">Euclidean distance</a> of the new Z to the origin point is 6.134336, the distance is less than 5000, so we repeat the above process until the distance is larger than 5000 or the iteration repeated for 200 times.<br>The amazing part is that for some “Z”s, after a certain times of iteration, the distance can be larger than a definite value, but for some value, they are proved that no matter how many time’s iteration, the distance will never be larger than a definite value.<br>We set the pixel value of those “Z”s who can escape from the origin point to grayscale 255(white), and those that who cannot to grayscale 0(black).<br>You can modify the program to generate color image, set the color of a certain position according to its escape time(iteration number).<br>I should warn you that you had better not set the DIM image size too large, otherwise, it will take a quite long time for the CPU to process the image, maybe tens of minutes or hours or days. The time complexity of this program is quite high.</p>
<h2 id="OpenMP"><a href="#OpenMP" class="headerlink" title="OpenMP"></a>OpenMP</h2><p>OpenMP version is quite similar to the C++ version. I should say that OpenMP is a great multi-thread programming frame work. Quite a lot of programs like Julia set generator can be migrate from single core to multi-core without too much extra effort. Thread safe is always a hot topic in multi-thread programming because different thread may share the same memory space. And we don’t need to worry about it in this program because the process on the pixels of this program is independent from other pixels.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> omp parallel for private(j) num_threads(6)</span></span><br></pre></td></tr></table></figure></p>
<p>This compiler directive tells the compiler that the following for loop will be executed by 6 threads.<br>If you are using Visual studio IDE, remember to open the multi-thread option in the properity language page. You can search on the google how to <a href="https://www.google.com.hk/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#safe=strict&amp;q=visual+studio+enable+openmp" target="_blank" rel="external">enable OpenMP</a>. Otherwise it will not work even though the directive is given.<br>My way is: go to project property, select C/C++ -&gt; Language, and change “OpenMP Support” to ‘Yes’, Click ok.<br>Under Linux, remember to apply -fopenmp to g++ when compiling.<br>The processing speed of OpenMP version should be about 5 to 6 times faster than the C++ version. I remember the processing time for a 20000x20000 image is about 20 minutes, my CPU is <a href="http://ark.intel.com/zh-cn/products/88196/Intel-Core-i7-6700-Processor-8M-Cache-up-to-4_00-GHz" target="_blank" rel="external">Intel(R) Core(TM) i7-6700 @3.4GHz 3.41GHz</a>, 4 cores with 8 threads.</p>
<h2 id="CUDA"><a href="#CUDA" class="headerlink" title="CUDA"></a>CUDA</h2><p>As I mentioned above, the main body of CUDA Julia set program comes from the example code of the book <a href="https://developer.nvidia.com/cuda-example" target="_blank" rel="external">CUDA by example</a>, the difference is that my version can run! I don’t know why but quite a lot of GPU programming book’s demo cannot run, or have some low level bugs.<br>For the CUDA version, the GPU execution parameters such as cuda_thread_num and cuda_block_num things also comes from the above book, which means I didn’t do any optimization.<br>My desktop has a <a href="https://en.wikipedia.org/wiki/GeForce_900_series" target="_blank" rel="external">Nvidia GTX-970 graphic card</a>, from the Wikipedia, the throughput for single precision floating point manipulation is about 3400 GFLOPS.<br>If you want to run the CUDA version, make sure your environment can support CUDA. I created this program by using an template provided by CUDA developer SDK, it’s a third party template of Visual studio. CUDA program can only be compiled by nvcc compiler.<br>The processing time for CUDA version is around a few minutes, still, for 20000x20000 image.</p>
<h2 id="OpenCL"><a href="#OpenCL" class="headerlink" title="OpenCL"></a>OpenCL</h2><p>I like OpenCL more than CUDA, maybe it’s just because of the feeling of having the ability to control over everything.<br>OpenCL has the different feature from other framework that is called runtime compiling, the main program read the GPU kernel file and create shader program during the running the process.<br>Unlike CUDA, OpenCL support GPUs from different vendors such as <a href="https://software.intel.com/en-us/intel-opencl" target="_blank" rel="external">Intel</a>, <a href="http://developer.amd.com/tools-and-sdks/opencl-zone/" target="_blank" rel="external">AMD</a>, <a href="https://developer.qualcomm.com/software/adreno-gpu-sdk/gpu" target="_blank" rel="external">Qualcomm-Adreno</a>, <a href="https://developer.arm.com/products/software/mali-sdks/mali-opencl-sdk" target="_blank" rel="external">ARM-Mali</a> and of course <a href="https://developer.nvidia.com/opencl" target="_blank" rel="external">Nvidia</a>(but Nvidia seems do not want to optimize OpenCL for it’s own good, so <a href="http://www.wired.com/2012/06/nvidia-linus-torvald/" target="_blank" rel="external">Nvidia, fxxk you!</a> Please refer to appendix to figure out the source.).<br>For OpenCL, the parameters (such as global_size and local size) for GPU execution is highly optimized for my GPU. So, the time for OpenCL version is just about seconds for generating a 20000x20000 image.</p>
<h2 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h2><p><a href="https://en.wikipedia.org/wiki/Linus_Torvalds" target="_blank" rel="external">Linus Torvalds</a> is my idol, not only because his accomplishment, but also because of his appearance! Watch this <a href="https://www.youtube.com/embed/MShbP3OpASA" target="_blank" rel="external">Youtube video</a>, drag to 48:10 then you will know why he is so charming!<br><div class="video-container"><iframe src="//www.youtube.com/embed/MShbP3OpASA" frameborder="0" allowfullscreen></iframe></div> </p>
<p><br></p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><div align="center"><br>The content of this blog itself is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="external">Creative Commons Attribution 4.0 International License</a>.<br><img src="http://yeephycho.github.io/blog_img/license.jpg" alt="CC-BY-SA LICENCES"><br><br>The containing source code (if applicable) and the source code used to format and display that content is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="external">Apache License 2.0</a>.<br><strong>Copyright [2016] [yeephycho]</strong><br>Licensed under the Apache License, Version 2.0 (the “License”);<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="external">Apache License 2.0</a><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an “AS IS” BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either<br>express or implied. See the License for the specific language<br>governing permissions and limitations under the License.<br><img src="http://yeephycho.github.io/blog_img/APACHE.jpg" alt="APACHE LICENCES"><br></div>
      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/07/21/A-reminder-of-algorithms-in-Convolutional-Neural-Networks-and-their-influences-I/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          A Note to Techniques in Convolutional Neural Networks and Their Influences I (paper summary)
        
      </div>
    </a>
  
  
</nav>

  
</article>








<section id="comments">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'yeephycho'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 yeephycho
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-79750926-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
  <script id="dsq-count-scr" src="//yeephycho.disqus.com/count.js#disqus_thread" async></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>